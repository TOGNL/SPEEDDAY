<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Progression de la p√©riode</title>
  <style>
    :root{
      --bg:#f7f7f7;               /* fond tr√®s clair */
      --fg:#1a1a1a;               /* noir √©l√©gant */
      --muted:#6c757d;            /* texte secondaire */
      --accent:#800000;           /* bordeaux haut de gamme */
      --accent-soft:#f3e5e5;      /* l√©ger d√©grad√© ros√©/bordeaux */
      --gold:#c4a661;             /* dor√© discret */
      --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:var(--bg);
      color:var(--fg);
      font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, sans-serif;
    }
    .card{
      width:min(700px, 92vw);
      padding:35px 30px;
      background:#fff;
      border-radius:var(--radius);
      box-shadow:
        0 12px 32px rgba(0,0,0,0.08),
        inset 0 0 0 1px rgba(0,0,0,0.05);
      position:relative;
    }
    .card::before{
      content:'';
      position:absolute;
      inset:0;
      border-radius:var(--radius);
      background:linear-gradient(135deg,rgba(255,255,255,0),rgba(196,166,97,0.08));
      pointer-events:none;
    }
    h1{
      margin:0 0 10px;
      font-size:clamp(24px,4vw,30px);
      font-weight:600;
      letter-spacing:.4px;
      color:var(--accent);
    }
    .range{
      margin:0 0 16px;
      font-size:clamp(14px,2.4vw,15px);
      font-weight:500;
      color:var(--muted);
    }

    /* === Barre de progression === */
    .bar-wrap{
      margin:45px 0 55px;
      height:16px;
      background:var(--accent-soft);
      border-radius:999px;
      overflow:hidden;
      border:1px solid rgba(128,0,0,0.1);
      position:relative;
    }
    .bar{
      height:100%;
      width:0%;
      background:var(--accent);
      transition:width 0.7s ease-in-out;
    }

    /* === Graduations === */
    .markings{
      position:absolute;
      left:0; right:0;
      display:flex;
      justify-content:space-between;
      font-size:12px;
      font-weight:500;
      color:rgba(0,0,0,0.55);
      pointer-events:none;
      z-index:5; /* üî• s‚Äôaffiche devant la barre */
    }
    .markings.top{ top:-32px; }
    .markings.bottom{ bottom:-32px; }

    .markings span{
      position:relative;
      transform:translateX(-50%);
      left:50%;
      white-space:nowrap;
    }

    /* Traits verticaux */
    .markings span::after{
      content:'';
      position:absolute;
      left:50%;
      width:1px;
      height:6px;
      background:rgba(0,0,0,0.3);
      top:calc(100% + 2px);
      transform:translateX(-50%);
    }
    .markings.bottom span::after{
      top:auto;
      bottom:calc(100% + 2px);
    }

    .numbers{
      display:grid;
      gap:12px;
      font-size:clamp(18px,3vw,22px);
      line-height:1.4;
      font-weight:500;
    }
    .muted{
      color:var(--muted);
      font-size:clamp(13px,2.2vw,14px);
    }
    .mono{
      font-variant-numeric:tabular-nums;
      font-feature-settings:"tnum" 1;
      letter-spacing:0.3px;
    }
    @media(max-width:450px){
      .card{padding:24px}
    }
  </style>
</head>
<body>
  <main class="card">
    <h1>Progression de la p√©riode</h1>
    <p class="range">Du <strong>5 octobre 2025</strong> au <strong>6 f√©vrier 2026</strong></p>

    <div class="bar-wrap" aria-hidden="true">
      <div id="bar" class="bar"></div>

      <!-- Haut : pourcentages -->
      <div class="markings top">
        <span>0%</span><span>10%</span><span>20%</span><span>30%</span><span>40%</span>
        <span>50%</span><span>60%</span><span>70%</span><span>80%</span><span>90%</span><span>100%</span>
      </div>

      <!-- Bas : jours -->
      <div id="markings-days" class="markings bottom"></div>
    </div>

    <div class="numbers">
      <div id="daysLeft" class="mono">‚Ä¶ jours restants.</div>
      <div id="pctDone" class="mono">‚Ä¶% d√©j√† effectu√©s.</div>
      <div class="muted" id="detail"></div>
    </div>
  </main>

  <script>
    const MS_DAY = 24 * 60 * 60 * 1000;
    const utcDate = (y, m, d) => new Date(Date.UTC(y, m - 1, d, 0, 0, 0, 0));
    const START = utcDate(2025, 10, 5);
    const END   = utcDate(2026, 2, 6);

    function clamp(v, min, max){ return Math.min(Math.max(v, min), max); }
    function daysBetween(a, b){ return Math.round((b.getTime() - a.getTime()) / MS_DAY); }

    function updateDayMarkings(totalDays){
      const markingsDays = document.getElementById('markings-days');
      markingsDays.innerHTML = '';
      for(let i = 0; i <= 10; i++){
        const span = document.createElement('span');
        const dayValue = Math.round((i / 10) * totalDays);
        span.textContent = dayValue.toLocaleString('fr-FR') + ' j';
        markingsDays.appendChild(span);
      }
    }

    function compute(){
      const now = new Date();
      const todayUTC = new Date(Date.UTC(
        now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()
      ));

      const totalDays = daysBetween(START, END);
      const elapsedDaysRaw = daysBetween(START, todayUTC);
      const elapsedDays = clamp(elapsedDaysRaw, 0, totalDays);
      const remainingDays = clamp(daysBetween(todayUTC, END), 0, totalDays);
      const pct = totalDays > 0 ? (elapsedDays / totalDays) * 100 : 0;

      const fmt = (n) => n.toLocaleString('fr-FR');

      document.getElementById('daysLeft').textContent = `${fmt(remainingDays)} jours restants.`;
      document.getElementById('pctDone').textContent  = `${pct.toFixed(1).replace('.', ',')}% d√©j√† effectu√©s.`;
      document.getElementById('bar').style.width = `${pct}%`;
      document.getElementById('detail').textContent = `√âcoul√©s : ${fmt(elapsedDays)} j / Total : ${fmt(totalDays)} j`;

      updateDayMarkings(totalDays);
    }

    compute();
    setInterval(compute, 10 * 60 * 1000);
  </script>
</body>
</html>
